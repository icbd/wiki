---
layout: post
title:  Unicode on C
date:   2017-01-02
categories: C
---

[åœ¨SFçš„æé—®](https://segmentfault.com/q/1010000007987044)

ç¤ºä¾‹:
```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, const char * argv[]) {
    char * smile = "ğŸ˜Š";
    printf("%s\n", smile);

    printf("len:%ld\n", strlen(smile));

    for (int i=0; i<strlen(smile); i++) {
        printf("%X\t",smile[i]);
    }

    puts("");
    return EXIT_SUCCESS;
}
```

è¾“å‡º:
```
ğŸ˜Š
len:4
FFFFFFF0    FFFFFF9F    FFFFFF98    FFFFFF8A
```

1. æ¯ä¸ªå­—èŠ‚å¤šå‡ºæ¥çš„ã€Fã€

ä¸€ä¸ªå­—èŠ‚8ä½ï¼Œèƒ½å­˜2ä¸ªHexå€¼ï¼Œä½†æ‰“å°å‡ºäº†8ä¸ªHexã€‚
"%X"æœ¬æ¥ç”¨äºæ‰“å°åå…­è¿›åˆ¶æ— ç¬¦å·æ•´å‹ï¼Œè¿™é‡Œçš„smile[i]æ˜¯ä¸€ä¸ª `char` ï¼Œä¹Ÿå°±æ˜¯ `short short int` ï¼Œåº”è¯¥ä½¿ç”¨"%hhX"ã€‚
æœ¬æ¥çš„ `char` éšå¼æå‡ä¸º `unsigned int`ï¼Œsmile[i]çš„é«˜ä½ä¸º `b1` ï¼Œå¤šå‡ºçš„é«˜ä½è‡ªåŠ¨è¡¥1ï¼Œç”¨åå…­è¿›åˆ¶è¡¨ç¤ºä¹Ÿå°±æ˜¯FFFFFFã€‚

[printfæ‰‹å†Œ](http://www.cplusplus.com/reference/cstdio/printf/?kw=printf)

```
/* printf example */
#include <stdio.h>

int main()
{
   printf ("Characters: %c %c \n", 'a', 65);
   printf ("Decimals: %d %ld\n", 1977, 650000L);
   printf ("Preceding with blanks: %10d \n", 1977);
   printf ("Preceding with zeros: %010d \n", 1977);
   printf ("Some different radices: %d %x %o %#x %#o \n", 100, 100, 100, 100, 100);
   printf ("floats: %4.2f %+.0e %E \n", 3.1416, 3.1416, 3.1416);
   printf ("Width trick: %*d \n", 5, 10);
   printf ("%s \n", "A string");
   return 0;
}
```

```
Characters: a A
Decimals: 1977 650000
Preceding with blanks:       1977
Preceding with zeros: 0000001977
Some different radices: 100 64 144 0x64 0144
floats: 3.14 +3e+000 3.141600E+000
Width trick:    10
A string
```
