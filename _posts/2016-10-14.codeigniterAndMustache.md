---
layout: post
title:  codeigniterAndMustache.md
date:   2016-10-14
categories: PHP
---

CodeIgniter(3.1) çš„viewåŠŸèƒ½éå¸¸å¼±, äºæ˜¯æƒ³å¼•å…¥ä¸€ä¸ªæ¨¡æ¿å¼•æ“Mustache.

CodeIgniter é»˜è®¤æ˜¯ä¸å¼€å¯composerè‡ªåŠ¨åŠ è½½çš„, åœ¨configä¸­æ‰‹åŠ¨å¼€å¯.

å¼€å¯åä¸configä¸­çš„è‡ªåŠ¨åŠ è½½åŠŸèƒ½ä¸å†²çª, è€Œæ˜¯å†æ£€æŸ¥ `/application/vendor` ç›®å½•ä¸‹çš„ `autoload.php` .


![composer_autoload.png](composer_autoload.png)


## step 1

åœ¨applicationç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ `composer.json`


```
{
  "repositories": {
    "packagist": {
      "type": "composer",
      "url": "https://packagist.phpcomposer.com"
    }
  },
  "require": {
    "mustache/mustache": "2.11.*"
  }
}

```

[packagist.phpcomposer.com](https://packagist.phpcomposer.com)æ˜¯åŠ é€Ÿæº.

## step 2

cd åˆ°applicationç›®å½•ä¸‹å®‰è£…require

```
composer install
```

.gitignore å¿½ç•¥ä¸€ä¸‹ `application/vendor` ç›®å½•


## step 3

åœ¨controllerä¸­å°±å¯ä»¥ç”¨äº†:

```
$data['here'] = ['apple','hp','dell'];

$me = new Mustache_Engine();
$tpl = file_get_contents(APPPATH . 'views/Admin/index.html');
echo $me->render($tpl, $data);
```

## ä¸è¶³

è¿™ç§ç»„åˆä¸‹, é‡ç”¨å‰ç«¯ä»£ç å’ŒHTMLæ¨¡æ¿çš„ç›¸äº’åµŒå¥— è¿˜æ²¡æœ‰å•¥å¥½æ–¹æ¡ˆ.
Sad ğŸ˜­